(()=>{"use strict";var e={214:(e,t,n)=>{n.r(t)},684:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r='<div class="dropdown-wrapper dropdown-wrapper-comm-menu">\n    <button class="comment-menu comment-menu-dropdown">\n        <a>\n            <img src="/static/img/icons/dot_menu.svg" alt="">\n        </a>\n    </button>\n    <div class="dropdown-for-btn dropdown-for-btn-comm-menu dropdown-for-btn-hide">\n        <button class="dropdown-for-btn-linkBtn-item comment-hide-btn">\n            <a>\n                Hide\n            </a>\n        </button>\n    </div>\n</div>'},743:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(85);(0,r.clickIfExistById)("mini-header-search-btn",(function(e){document.getElementById("mhs1").classList.add("mini-header-side-hide"),document.getElementById("mhs2").classList.remove("mini-header-side-hide")})),(0,r.clickIfExistById)("mini-header-close-search",(function(e){document.getElementById("mhs1").classList.remove("mini-header-side-hide"),document.getElementById("mhs2").classList.add("mini-header-side-hide")}))},347:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=void 0,t.closeDropdown=function(e,t){for(var n=0;n<e.dropdownItems.length;n++)e.dropdownItems[n].dropdownWrapper.contains(t)||e.hide(n)};var o=function(){function e(e){this.dropdownWrapperClassName="dropdown-wrapper",this.dropdownForBtnClassName="dropdown-for-btn",this.dropdownForBtnHideClassName="dropdown-for-btn-hide",this.dropdownItems=[],this.targetButtonClassName=e,this.parse()}return e.prototype.parse=function(){for(var e=Array.from(document.getElementsByClassName(this.targetButtonClassName)),t=0;t<e.length;t++){var n=e[t],r=n.parentElement;if(!r.classList.contains(this.dropdownWrapperClassName))throw new i("Dropdown.parse",this.dropdownWrapperClassName);var o=r.querySelector("."+this.dropdownForBtnClassName);if(!o)throw new i("Dropdown.parse",this.dropdownForBtnClassName);this.dropdownItems.push({targetButton:n,dropdownWrapper:r,dropdown:o})}},e.prototype.run=function(){for(var e=this,t=function(t){var r=n.dropdownItems[t];r.targetButton.onclick=function(){r.dropdown.classList.toggle(e.dropdownForBtnHideClassName)}},n=this,r=0;r<this.dropdownItems.length;r++)t(r)},e.prototype.hide=function(e){this.dropdownItems[e].dropdown.classList.add(this.dropdownForBtnHideClassName)},e}();t.Dropdown=o;var i=function(e){function t(t,n){return e.call(this,"".concat(t,": Class ").concat(n," not found."))||this}return r(t,e),t}(Error)},304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorOnPage=function(e){var t=document.getElementById("error");t&&(t.innerText=e)}},329:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncForm=void 0;var n=function(){function e(e,t,n){this.formData=e,this.method=t,this.url=n}return e.prototype.onResponse=function(e){this.fnOnResponse=e},e.prototype.onError=function(e){this.fnOnError=e},e.prototype.send=function(){var e=this;fetch(this.url,{method:this.method,body:this.formData}).then((function(e){return e.json()})).then((function(t){e.fnOnResponse&&e.fnOnResponse(t)})).catch((function(t){e.fnOnError&&e.fnOnError(t)}))},e}();t.AsyncForm=n},956:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompressImage=void 0;var i=n(122),a=function(){function e(){}return e.compress=function(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:n={maxSizeMB:t},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,i.default)(e,n)];case 2:return[2,r.sent()];case 3:throw r.sent();case 4:return[2]}}))}))},e.compressFromInput=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:n=[],r=0,i=Array.from(e.files),o.label=1;case 1:if(!(r<i.length))return[3,6];a=i[r],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.compress(a,t)];case 3:return s=o.sent(),n.push(s),[3,5];case 4:throw o.sent();case 5:return r++,[3,1];case 6:return[2,n]}}))}))},e}();t.CompressImage=a},160:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragImage=void 0;var n=function(){function e(e,t){this.container_id=e,this.drag_class_name=t,this.container=document.getElementById(this.container_id)}return e.prototype.addCustomEvent=function(e){this.customEvent=e},e.prototype.addCustomTouchEvent=function(e){this.customTouchEvent=e},e.prototype.setDragOver=function(e){this.dragOver=e},e.prototype.setTouchMove=function(e){this.touchMove=e},e.prototype.onDragStart=function(e){var t=this;e.addEventListener("dragstart",(function(e){var n=e.target;t.draggedElement=n.parentNode}))},e.prototype.onTouchStart=function(e){var t=this;e.addEventListener("touchstart",(function(e){var n=e.target;t.draggedElement=n.parentNode}))},e.prototype.replaceElements=function(e){this.draggedElement&&e!==this.draggedElement&&e.classList.contains(this.drag_class_name)&&(Array.from(this.container.children).indexOf(this.draggedElement)<Array.from(this.container.children).indexOf(e)?this.container.insertBefore(this.draggedElement,e.nextSibling):this.container.insertBefore(this.draggedElement,e))},e.prototype.onDrop=function(e){var t=this;e.addEventListener("drop",(function(e){e.preventDefault();var n=e.target.parentNode;t.replaceElements(n)}))},e.prototype.onTouchEnd=function(e){var t=this;e.addEventListener("touchend",(function(e){var n=e.changedTouches[0],r=document.elementFromPoint(n.clientX,n.clientY).parentNode;t.replaceElements(r)}))},e.prototype.run=function(){var e=this,t=document.getElementsByClassName(this.drag_class_name);Array.from(t).forEach((function(t){e.onDragStart(t),t.addEventListener("dragover",(function(t){t.preventDefault(),e.dragOver&&e.dragOver(t)})),e.customEvent&&e.customEvent(t),e.onDrop(t),e.onTouchStart(t),t.addEventListener("touchmove",(function(t){t.preventDefault(),e.touchMove&&e.touchMove(t)})),e.customTouchEvent&&e.customTouchEvent(t),e.onTouchEnd(t)}))},e}();t.DragImage=n},308:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShowInputImages=void 0,t.getSortedImageNames=function(e,t){var n,r=[],o=null===(n=document.getElementById(e))||void 0===n?void 0:n.getElementsByClassName(t);if(o)for(var i=0;i<o.length;i++){var a=o[i];r.push(a.getAttribute("data-name"))}return r};var i=n(956),a=function(){function e(e,t,n){this.imageWrapperClasses=n,this.imageContainer=document.getElementById(t),this.input=document.getElementById(e)}return e.prototype.onInputChange=function(e){this.inputChange=e},e.prototype.addImageWrapperClasses=function(e){for(var t=0;t<this.imageWrapperClasses.length;t++){var n=this.imageWrapperClasses[t];e.classList.add(n)}},e.prototype.displayImages=function(e){this.imageContainer.innerHTML="";for(var t=function(e){if(!e.type.startsWith("image/"))return"continue";var t=document.createElement("img"),r=document.createElement("div");r.setAttribute("data-name",e.name),n.addImageWrapperClasses(r),r.appendChild(t);var o=new FileReader;o.onload=function(e){var n;t.src=null===(n=e.target)||void 0===n?void 0:n.result},o.readAsDataURL(e),n.imageContainer.appendChild(r)},n=this,r=0,o=e;r<o.length;r++)t(o[r])},e.prototype.run=function(){var e=this;this.input&&(this.input.onchange=function(t){return r(e,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.input.files?[4,i.CompressImage.compressFromInput(this.input,.2)]:[3,2];case 1:e=t.sent(),this.displayImages(Array.from(e)),this.inputChange&&this.inputChange(),t.label=2;case 2:return[2]}}))}))})},e}();t.ShowInputImages=a},805:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(85);(0,r.clickIfExistById)("profile-button-open-publication",(function(e){document.getElementById("separate-content-left-profile").classList.add("separate-content-left-profile-hide"),document.getElementById("separate-content-right-profile").classList.remove("separate-content-right-profile-hide")})),(0,r.clickIfExistById)("profile-header-back",(function(e){document.getElementById("separate-content-left-profile").classList.remove("separate-content-left-profile-hide"),document.getElementById("separate-content-right-profile").classList.add("separate-content-right-profile-hide")}))},227:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publicationRunDropdown=f,t.newPublicationRunDropdown=function(){var e=new o.Dropdown("new-publication-categories-btn");return e.run(),e},t.hideShowComments=u;var r=n(160),o=n(347),i=n(308),a=n(133),s=n(713),c=n(333);function f(){var e=new o.Dropdown("comment-menu-dropdown");return e.run(),e}var l=new i.ShowInputImages("new-pub-images","load-images",["load-image","draggable"]);function u(){for(var e=document.getElementsByClassName("comment-hide-btn"),t=function(t){var n=e[t];n.onclick=function(){var e=n.closest(".publication-comment-item"),t=null;e&&(t=e.getElementsByClassName("publication-comment-item-hidden-panel")[0]),e&&t&&(e.classList.add("publication-comment-item-hidden"),t.classList.add("PCH-enable"))}},n=0;n<e.length;n++)t(n);var r=document.getElementsByClassName("publication-comment-item-hidden-panel"),o=function(e){r[e].onclick=function(){r[e].parentElement.classList.remove("publication-comment-item-hidden"),r[e].classList.remove("PCH-enable")}};for(n=0;n<r.length;n++)o(n)}l.onInputChange((function(){new r.DragImage("load-images","draggable").run()})),l.run(),u(),(0,c.sendNewPublicationForm)("new-publication-form"),(0,a.sendLikeForm)("publication-like"),(0,s.sendCommentForm)("publication-comment-form",(function(){var e=f();u(),document.addEventListener("click",(function(t){var n=t.target;(0,o.closeDropdown)(e,n)}))}))},713:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendCommentForm=function(e,t){var n=document.getElementById(e);n&&n.addEventListener("submit",(function(e){e.preventDefault();var s=new FormData(n),c=new o.AsyncForm(s,"POST","/publication-comment");c.onResponse((function(e){if("false"==e.success)console.log(e.error),(0,r.showErrorOnPage)(e.error);else if("true"==e.success){var n=document.getElementById("publication-comment-list");if(n){var o=document.createElement("div");o.classList.add("publication-comment-item"),o.innerHTML=(c=e.name,f=e.avatar,l=e.text,u=e.comm_id,d=""!=f?f:"/static/img/default/default.jpg",'\n    <button class="publication-comment-item-hidden-panel">\n        <a>\n            Hidden comment. Click to show comment.\n        </a>\n    </button>\n    <div class="comment-user-info">\n        <button class="profile-icon profile-icon-comment">\n            <a>\n                <img src="'.concat((0,i.removePrefix)(d,"src"),'" alt="">\n            </a>\n        </button>\n        <div class="comment-user-username">\n            ').concat(c,"\n        </div>\n        ").concat(a.default,'\n    </div>\n    <div class="comment-content">\n        ').concat(l,'\n    </div>\n    <form class="comment-footer">\n        <input type="hidden" name="comm_id" value="').concat(u,'">\n        <button class="reply-button">\n            Reply\n        </button>\n        <button class="comment-open-close-reply">\n            <a>\n                Answers\n                <img src="/static/img/icons/expand_right.svg" alt="">\n            </a>\n        </button>\n    </form>\n    ')),n.prepend(o);var s=document.getElementById("publication_comment_text");s&&(s.value=""),t()}}var c,f,l,u,d})),c.onError((function(e){(0,r.showErrorOnPage)(e)})),c.send()}))};var r=n(304),o=n(329),i=n(37),a=n(684)},133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendLikeForm=function(e){var t=document.getElementById(e);t&&t.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(t),i=new o.AsyncForm(n,"POST","/publication-like");i.onResponse((function(e){"false"==e.success?(0,r.showErrorOnPage)(e.error):"true"==e.success&&function(e){var t=document.getElementById("publication-like-count");if(t){var n=document.getElementById("publication-like-count");if(n){document.getElementById("pub-author-like").classList.toggle("publcation-liked");var r=parseInt(t.innerText);"true"==e.addLike?r++:"false"==e.addLike&&r--,n.innerHTML=String(r)}}}(e)})),i.onError((function(e){(0,r.showErrorOnPage)(e)})),i.send()}))};var r=n(304),o=n(329)},333:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendNewPublicationForm=function(e){var t=document.getElementById(e);t&&t.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(t),s=document.getElementById("new-pub-images"),c=s.files;s.files.length>0&&n.delete("images");for(var f=(0,o.getSortedImageNames)("load-images","load-image"),l=Array.from(c).sort((function(e,t){return f.indexOf(e.name)-f.indexOf(t.name)})),u=0;u<l.length;u++){var d=l[u];n.append("images",d,d.name)}var h=new a.AsyncForm(n,"POST","/new-publication-post");h.onResponse((function(e){"false"==e.success?(0,r.showErrorOnPage)(e.error):"true"==e.success&&(0,i.redirect)("/explore")})),h.onError((function(e){(0,r.showErrorOnPage)(e)})),h.send()}))};var r=n(304),o=n(308),i=n(852),a=n(329)},85:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clickIfExistById=function(e,t){var n=document.getElementById(e);n&&(n.onclick=function(){t(n)})}},37:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removePrefix=function(e,t){return e.startsWith(t)?e.substring(t.length):e}},852:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.redirect=function(e){window.location.href=e},t.RemoveUrlParameters=function(e){var t=new URL(window.location.href);e.forEach((function(e){return t.searchParams.delete(e)})),window.history.replaceState({path:t.href},"",t.href)}},122:(e,t,n)=>{function r(e,t){return new Promise((function(n,r){let i;return o(e).then((function(e){try{return i=e,n(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(e){return r(e)}}),r)}))}n.r(t),n.d(t,{default:()=>T});const o=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:e}})=>{const r=new DataView(e);let o=0;if(65496!==r.getUint16(o))return n("not a valid JPEG");for(o+=2;;){const i=r.getUint16(o);if(65498===i)break;const a=r.getUint16(o+2);if(65505===i&&1165519206===r.getUint32(o+4)){const i=o+10;let s;switch(r.getUint16(i)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==r.getUint16(i+2,s))return n("TIFF header contains invalid version");const c=r.getUint32(i+4,s),f=i+c+2+12*r.getUint16(i+c,s);for(let e=i+c+2;e<f;e+=12)if(274==r.getUint16(e,s)){if(3!==r.getUint16(e+2,s))return n("Orientation data type is invalid");if(1!==r.getUint32(e+4,s))return n("Orientation data count is invalid");r.setUint16(e+8,1,s);break}return t(e.slice(o,o+2+a))}o+=2+a}return t(new Blob)})),r.readAsArrayBuffer(e)}));var i={},a={get exports(){return i},set exports(e){i=e}};!function(e){var t,n,r={};a.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,o=r.bin.readUint,i=0,a={},s=new Uint8Array(e),c=s.length-4;101010256!=o(s,c);)c--;i=c,i+=4;var f=n(s,i+=4);n(s,i+=2);var l=o(s,i+=2),u=o(s,i+=4);i+=4,i=u;for(var d=0;d<f;d++){o(s,i),i+=4,i+=4,i+=4,o(s,i+=4),l=o(s,i+=4);var h=o(s,i+=4),p=n(s,i+=4),m=n(s,i+2),g=n(s,i+4);i+=6;var A=o(s,i+=8);i+=4,i+=p+m+g,r._readLocal(s,A,a,l,h,t)}return a},r._readLocal=function(e,t,n,o,i,a){var s=r.bin.readUshort,c=r.bin.readUint;c(e,t),s(e,t+=4),s(e,t+=2);var f=s(e,t+=2);c(e,t+=2),c(e,t+=4),t+=4;var l=s(e,t+=8),u=s(e,t+=2);t+=2;var d=r.bin.readUTF8(e,t,l);if(t+=l,t+=u,a)n[d]={size:i,csize:o};else{var h=new Uint8Array(e.buffer,t);if(0==f)n[d]=new Uint8Array(h.buffer.slice(t,t+o));else{if(8!=f)throw"unknown compression method: "+f;var p=new Uint8Array(i);r.inflateRaw(h,p),n[d]=p}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,o=new Uint8Array(50+Math.floor(1.1*e.length));o[n]=120,o[n+1]=156,n+=2,n=r.F.deflateRaw(e,o,n,t.level);var i=r.adler(e,0,e.length);return o[n+0]=i>>>24&255,o[n+1]=i>>>16&255,o[n+2]=i>>>8&255,o[n+3]=i>>>0&255,new Uint8Array(o.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),o=r.F.deflateRaw(e,n,o,t.level);return new Uint8Array(n.buffer,0,o)},r.encode=function(e,t){null==t&&(t=!1);var n=0,o=r.bin.writeUint,i=r.bin.writeUshort,a={};for(var s in e){var c=!r._noNeed(s)&&!t,f=e[s],l=r.crc.crc(f,0,f.length);a[s]={cpr:c,usize:f.length,crc:l,file:c?r.deflateRaw(f):f}}for(var s in a)n+=a[s].file.length+30+46+2*r.bin.sizeUTF8(s);n+=22;var u=new Uint8Array(n),d=0,h=[];for(var s in a){var p=a[s];h.push(d),d=r._writeHeader(u,d,s,p,0)}var m=0,g=d;for(var s in a)p=a[s],h.push(d),d=r._writeHeader(u,d,s,p,1,h[m++]);var A=d-g;return o(u,d,101010256),d+=4,i(u,d+=4,m),i(u,d+=2,m),o(u,d+=2,A),o(u,d+=4,g),d+=4,d+=2,u.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,o,i,a){var s=r.bin.writeUint,c=r.bin.writeUshort,f=o.file;return s(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),c(e,t,20),c(e,t+=2,0),c(e,t+=2,o.cpr?8:0),s(e,t+=2,0),s(e,t+=4,o.crc),s(e,t+=4,f.length),s(e,t+=4,o.usize),c(e,t+=4,r.bin.sizeUTF8(n)),c(e,t+=2,0),t+=2,1==i&&(t+=2,t+=2,s(e,t+=6,a),t+=4),t+=r.bin.writeUTF8(e,t,n),0==i&&(e.set(f,t),t+=f.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,o){for(var i=0;i<o;i++)e=r.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,o=0,i=t,a=t+n;i<a;){for(var s=Math.min(i+5552,a);i<s;)o+=r+=e[i++];r%=65521,o%=65521}return o<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",o=0;o<n;o++)r+=String.fromCharCode(e[t+o]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var o,i="",a=0;a<n;a++)i+="%"+r.bin.pad(e[t+a].toString(16));try{o=decodeURIComponent(i)}catch(o){return r.bin.readASCII(e,t,n)}return o},writeUTF8:function(e,t,n){for(var r=n.length,o=0,i=0;i<r;i++){var a=n.charCodeAt(i);if(4294967168&a)if(4294965248&a)if(4294901760&a){if(4292870144&a)throw"e";e[t+o]=240|a>>18,e[t+o+1]=128|a>>12&63,e[t+o+2]=128|a>>6&63,e[t+o+3]=128|63&a,o+=4}else e[t+o]=224|a>>12,e[t+o+1]=128|a>>6&63,e[t+o+2]=128|63&a,o+=3;else e[t+o]=192|a>>6,e[t+o+1]=128|63&a,o+=2;else e[t+o]=a,o++}return o},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if(4294967168&o)if(4294965248&o)if(4294901760&o){if(4292870144&o)throw"e";n+=4}else n+=3;else n+=2;else n++}return n}},r.F={},r.F.deflateRaw=function(e,t,n,o){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],a=r.F.U,s=r.F._goodIndex;r.F._hash;var c=r.F._putsE,f=0,l=n<<3,u=0,d=e.length;if(0==o){for(;f<d;)c(t,l,f+(F=Math.min(65535,d-f))==d?1:0),l=r.F._copyExact(e,f,F,t,l+8),f+=F;return l>>>3}var h=a.lits,p=a.strt,m=a.prev,g=0,A=0,v=0,w=0,b=0,y=0;for(d>2&&(p[y=r.F._hash(e,0)]=0),f=0;f<d;f++){if(b=y,f+1<d-2){y=r.F._hash(e,f+1);var E=f+1&32767;m[E]=p[y],p[y]=E}if(u<=f){(g>14e3||A>26697)&&d-f>100&&(u<f&&(h[g]=f-u,g+=2,u=f),l=r.F._writeBlock(f==d-1||u==d?1:0,h,g,w,e,v,f-v,t,l),g=A=w=0,v=f);var B=0;f<d-2&&(B=r.F._bestMatch(e,f,m,b,Math.min(i[2],d-f),i[3]));var F=B>>>16,_=65535&B;if(0!=B){_=65535&B;var U=s(F=B>>>16,a.of0);a.lhst[257+U]++;var I=s(_,a.df0);a.dhst[I]++,w+=a.exb[U]+a.dxb[I],h[g]=F<<23|f-u,h[g+1]=_<<16|U<<8|I,g+=2,u=f+F}else a.lhst[e[f]]++;A++}}for(v==f&&0!=e.length||(u<f&&(h[g]=f-u,g+=2,u=f),l=r.F._writeBlock(1,h,g,w,e,v,f-v,t,l),g=0,A=0,g=A=w=0,v=f);7&l;)l++;return l>>>3},r.F._bestMatch=function(e,t,n,o,i,a){var s=32767&t,c=n[s],f=s-c+32768&32767;if(c==s||o!=r.F._hash(e,t-f))return 0;for(var l=0,u=0,d=Math.min(32767,t);f<=d&&0!=--a&&c!=s;){if(0==l||e[t+l]==e[t+l-f]){var h=r.F._howLong(e,t,f);if(h>l){if(u=f,(l=h)>=i)break;f+2<h&&(h=f+2);for(var p=0,m=0;m<h-2;m++){var g=t-f+m+32768&32767,A=g-n[g]+32768&32767;A>p&&(p=A,c=g)}}}f+=(s=c)-(c=n[s])+32768&32767}return l<<16|u},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,o,i,a,s,c,f){var l,u,d,h,p,m,g,A,v,w=r.F.U,b=r.F._putsF,y=r.F._putsE;w.lhst[256]++,u=(l=r.F.getTrees())[0],d=l[1],h=l[2],p=l[3],m=l[4],g=l[5],A=l[6],v=l[7];var E=32+(f+3&7?8-(f+3&7):0)+(s<<3),B=o+r.F.contSize(w.fltree,w.lhst)+r.F.contSize(w.fdtree,w.dhst),F=o+r.F.contSize(w.ltree,w.lhst)+r.F.contSize(w.dtree,w.dhst);F+=14+3*g+r.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var _=0;_<286;_++)w.lhst[_]=0;for(_=0;_<30;_++)w.dhst[_]=0;for(_=0;_<19;_++)w.ihst[_]=0;var U=E<B&&E<F?0:B<F?1:2;if(b(c,f,e),b(c,f+1,U),f+=3,0==U){for(;7&f;)f++;f=r.F._copyExact(i,a,s,c,f)}else{var I,C;if(1==U&&(I=w.fltree,C=w.fdtree),2==U){r.F.makeCodes(w.ltree,u),r.F.revCodes(w.ltree,u),r.F.makeCodes(w.dtree,d),r.F.revCodes(w.dtree,d),r.F.makeCodes(w.itree,h),r.F.revCodes(w.itree,h),I=w.ltree,C=w.dtree,y(c,f,p-257),y(c,f+=5,m-1),y(c,f+=5,g-4),f+=4;for(var M=0;M<g;M++)y(c,f+3*M,w.itree[1+(w.ordr[M]<<1)]);f+=3*g,f=r.F._codeTiny(A,w.itree,c,f),f=r.F._codeTiny(v,w.itree,c,f)}for(var Q=a,x=0;x<n;x+=2){for(var S=t[x],O=S>>>23,R=Q+(8388607&S);Q<R;)f=r.F._writeLit(i[Q++],I,c,f);if(0!=O){var P=t[x+1],T=P>>16,L=P>>8&255,k=255&P;y(c,f=r.F._writeLit(257+L,I,c,f),O-w.of0[L]),f+=w.exb[L],b(c,f=r.F._writeLit(k,C,c,f),T-w.df0[k]),f+=w.dxb[k],Q+=O}}f=r.F._writeLit(256,I,c,f)}return f},r.F._copyExact=function(e,t,n,r,o){var i=o>>>3;return r[i]=n,r[i+1]=n>>>8,r[i+2]=255-r[i],r[i+3]=255-r[i+1],i+=4,r.set(new Uint8Array(e.buffer,t,n),i),o+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),o=[],i=r.F._lenCodes(e.ltree,o),a=[],s=r.F._lenCodes(e.dtree,a),c=0;c<o.length;c+=2)e.ihst[o[c]]++;for(c=0;c<a.length;c+=2)e.ihst[a[c]]++;for(var f=r.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&0==e.itree[1+(e.ordr[l-1]<<1)];)l--;return[t,n,f,i,s,l,o,a]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,o){for(var i=0;i<e.length;i+=2){var a=e[i],s=e[i+1];o=r.F._writeLit(a,t,n,o);var c=16==a?2:17==a?3:7;a>15&&(r.F._putsE(n,o,s,c),o+=c)}return o},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var o=e[r+1],i=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==o&&i==o&&a==o){for(var c=r+5;c+2<n&&e[c+2]==o;)c+=2;(f=Math.min(c+1-r>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),r+=2*f-2}else if(o==s&&i==o&&a==o){for(c=r+5;c+2<n&&e[c+2]==o;)c+=2;var f=Math.min(c+1-r>>>1,6);t.push(16,f-3),r+=2*f-2}else t.push(o,0)}return n>>>1},r.F._hufTree=function(e,t,n){var o=[],i=e.length,a=t.length,s=0;for(s=0;s<a;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<i;s++)0!=e[s]&&o.push({lit:s,f:e[s]});var c=o.length,f=o.slice(0);if(0==c)return 0;if(1==c){var l=o[0].lit;return f=0==l?1:0,t[1+(l<<1)]=1,t[1+(f<<1)]=1,1}o.sort((function(e,t){return e.f-t.f}));var u=o[0],d=o[1],h=0,p=1,m=2;for(o[0]={lit:-1,f:u.f+d.f,l:u,r:d,d:0};p!=c-1;)u=h!=p&&(m==c||o[h].f<o[m].f)?o[h++]:o[m++],d=h!=p&&(m==c||o[h].f<o[m].f)?o[h++]:o[m++],o[p++]={lit:-1,f:u.f+d.f,l:u,r:d};var g=r.F.setDepth(o[p-1],0);for(g>n&&(r.F.restrictDepth(f,n,g),g=n),s=0;s<c;s++)t[1+(f[s].lit<<1)]=f[s].d;return g},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,o=1<<n-t,i=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,i+=o-(1<<n-a)}for(i>>>=n-t;i>0;)(a=e[r].d)<t?(e[r].d++,i-=1<<t-a-1):r++;for(;r>=0;r--)e[r].d==t&&i<0&&(e[r].d--,i++);0!=i&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,o){return r.F._putsF(n,o,t[e<<1]),o+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var o=r.F,i=o._bitsF,a=o._bitsE,s=o._decodeTiny,c=o.makeCodes,f=o.codes2map,l=o._get17,u=o.U,d=null==t;d&&(t=new n(e.length>>>2<<3));for(var h,p,m=0,g=0,A=0,v=0,w=0,b=0,y=0,E=0,B=0;0==m;)if(m=i(e,B,1),g=i(e,B+1,2),B+=3,0!=g){if(d&&(t=r.F._check(t,E+(1<<17))),1==g&&(h=u.flmap,p=u.fdmap,b=511,y=31),2==g){A=a(e,B,5)+257,v=a(e,B+5,5)+1,w=a(e,B+10,4)+4,B+=14;for(var F=0;F<38;F+=2)u.itree[F]=0,u.itree[F+1]=0;var _=1;for(F=0;F<w;F++){var U=a(e,B+3*F,3);u.itree[1+(u.ordr[F]<<1)]=U,U>_&&(_=U)}B+=3*w,c(u.itree,_),f(u.itree,_,u.imap),h=u.lmap,p=u.dmap,B=s(u.imap,(1<<_)-1,A+v,e,B,u.ttree);var I=o._copyOut(u.ttree,0,A,u.ltree);b=(1<<I)-1;var C=o._copyOut(u.ttree,A,v,u.dtree);y=(1<<C)-1,c(u.ltree,I),f(u.ltree,I,h),c(u.dtree,C),f(u.dtree,C,p)}for(;;){var M=h[l(e,B)&b];B+=15&M;var Q=M>>>4;if(Q>>>8==0)t[E++]=Q;else{if(256==Q)break;var x=E+Q-254;if(Q>264){var S=u.ldef[Q-257];x=E+(S>>>3)+a(e,B,7&S),B+=7&S}var O=p[l(e,B)&y];B+=15&O;var R=O>>>4,P=u.ddef[R],T=(P>>>4)+i(e,B,15&P);for(B+=15&P,d&&(t=r.F._check(t,E+(1<<17)));E<x;)t[E]=t[E++-T],t[E]=t[E++-T],t[E]=t[E++-T],t[E]=t[E++-T];E=x}}}else{7&B&&(B+=8-(7&B));var L=4+(B>>>3),k=e[L-4]|e[L-3]<<8;d&&(t=r.F._check(t,E+k)),t.set(new n(e.buffer,e.byteOffset+L,k),E),B=L+k<<3,E+=k}return t.length==E?t:t.slice(0,E)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,o,i,a){for(var s=r.F._bitsE,c=r.F._get17,f=0;f<n;){var l=e[c(o,i)&t];i+=15&l;var u=l>>>4;if(u<=15)a[f]=u,f++;else{var d=0,h=0;16==u?(h=3+s(o,i,2),i+=2,d=a[f-1]):17==u?(h=3+s(o,i,3),i+=3):18==u&&(h=11+s(o,i,7),i+=7);for(var p=f+h;f<p;)a[f]=d,f++}}return i},r.F._copyOut=function(e,t,n,r){for(var o=0,i=0,a=r.length>>>1;i<n;){var s=e[i+t];r[i<<1]=0,r[1+(i<<1)]=s,s>o&&(o=s),i++}for(;i<a;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o},r.F.makeCodes=function(e,t){for(var n,o,i,a,s=r.F.U,c=e.length,f=s.bl_count,l=0;l<=t;l++)f[l]=0;for(l=1;l<c;l+=2)f[e[l]]++;var u=s.next_code;for(n=0,f[0]=0,o=1;o<=t;o++)n=n+f[o-1]<<1,u[o]=n;for(i=0;i<c;i+=2)0!=(a=e[i+1])&&(e[i]=u[a],u[a]++)},r.F.codes2map=function(e,t,n){for(var o=e.length,i=r.F.U.rev15,a=0;a<o;a+=2)if(0!=e[a+1])for(var s=a>>1,c=e[a+1],f=s<<4|c,l=t-c,u=e[a]<<l,d=u+(1<<l);u!=d;)n[i[u]>>>15-t]=f,u++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,o=15-t,i=0;i<e.length;i+=2){var a=e[i]<<t-e[i+1];e[i]=n[a]>>>o}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function o(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];o(e.fltree,144,8),o(e.fltree,112,9),o(e.fltree,24,7),o(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),o(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),o(e.itree,19,0),o(e.ltree,286,0),o(e.dtree,30,0),o(e.ttree,320,0)}()}();var s=function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:i},[i]);const c=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let r="";for(let o=0;o<n;o++)r+=String.fromCharCode(e[t+o]);return r},writeASCII(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes(e,t,n){const r=[];for(let o=0;o<n;o++)r.push(e[t+o]);return r},pad:e=>e.length<2?`0${e}`:e,readUTF8(t,n,r){let o,i="";for(let o=0;o<r;o++)i+=`%${e.pad(t[n+o].toString(16))}`;try{o=decodeURIComponent(i)}catch(o){return e.readASCII(t,n,r)}return o}};function t(t,n,r,o){const a=n*r,s=i(o),c=Math.ceil(n*s/8),f=new Uint8Array(4*a),l=new Uint32Array(f.buffer),{ctype:u}=o,{depth:d}=o,h=e.readUshort;if(6==u){const e=a<<2;if(8==d)for(var p=0;p<e;p+=4)f[p]=t[p],f[p+1]=t[p+1],f[p+2]=t[p+2],f[p+3]=t[p+3];if(16==d)for(p=0;p<e;p++)f[p]=t[p<<1]}else if(2==u){const e=o.tabs.tRNS;if(null==e){if(8==d)for(p=0;p<a;p++){var m=3*p;l[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(16==d)for(p=0;p<a;p++)m=6*p,l[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}else{var g=e[0];const n=e[1],r=e[2];if(8==d)for(p=0;p<a;p++){var A=p<<2;m=3*p,l[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==g&&t[m+1]==n&&t[m+2]==r&&(f[A+3]=0)}if(16==d)for(p=0;p<a;p++)A=p<<2,m=6*p,l[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],h(t,m)==g&&h(t,m+2)==n&&h(t,m+4)==r&&(f[A+3]=0)}}else if(3==u){const e=o.tabs.PLTE,i=o.tabs.tRNS,s=i?i.length:0;if(1==d)for(var v=0;v<r;v++){var w=v*c,b=v*n;for(p=0;p<n;p++){A=b+p<<2;var y=3*(E=t[w+(p>>3)]>>7-(7&p)&1);f[A]=e[y],f[A+1]=e[y+1],f[A+2]=e[y+2],f[A+3]=E<s?i[E]:255}}if(2==d)for(v=0;v<r;v++)for(w=v*c,b=v*n,p=0;p<n;p++)A=b+p<<2,y=3*(E=t[w+(p>>2)]>>6-((3&p)<<1)&3),f[A]=e[y],f[A+1]=e[y+1],f[A+2]=e[y+2],f[A+3]=E<s?i[E]:255;if(4==d)for(v=0;v<r;v++)for(w=v*c,b=v*n,p=0;p<n;p++)A=b+p<<2,y=3*(E=t[w+(p>>1)]>>4-((1&p)<<2)&15),f[A]=e[y],f[A+1]=e[y+1],f[A+2]=e[y+2],f[A+3]=E<s?i[E]:255;if(8==d)for(p=0;p<a;p++){var E;A=p<<2,y=3*(E=t[p]),f[A]=e[y],f[A+1]=e[y+1],f[A+2]=e[y+2],f[A+3]=E<s?i[E]:255}}else if(4==u){if(8==d)for(p=0;p<a;p++){A=p<<2;var B=t[F=p<<1];f[A]=B,f[A+1]=B,f[A+2]=B,f[A+3]=t[F+1]}if(16==d)for(p=0;p<a;p++){var F;A=p<<2,B=t[F=p<<2],f[A]=B,f[A+1]=B,f[A+2]=B,f[A+3]=t[F+2]}}else if(0==u)for(g=o.tabs.tRNS?o.tabs.tRNS:-1,v=0;v<r;v++){const e=v*c,r=v*n;if(1==d)for(var _=0;_<n;_++){var U=(B=255*(t[e+(_>>>3)]>>>7-(7&_)&1))==255*g?0:255;l[r+_]=U<<24|B<<16|B<<8|B}else if(2==d)for(_=0;_<n;_++)U=(B=85*(t[e+(_>>>2)]>>>6-((3&_)<<1)&3))==85*g?0:255,l[r+_]=U<<24|B<<16|B<<8|B;else if(4==d)for(_=0;_<n;_++)U=(B=17*(t[e+(_>>>1)]>>>4-((1&_)<<2)&15))==17*g?0:255,l[r+_]=U<<24|B<<16|B<<8|B;else if(8==d)for(_=0;_<n;_++)U=(B=t[e+_])==g?0:255,l[r+_]=U<<24|B<<16|B<<8|B;else if(16==d)for(_=0;_<n;_++)B=t[e+(_<<1)],U=h(t,e+(_<<1))==g?0:255,l[r+_]=U<<24|B<<16|B<<8|B}return f}function n(e,t,n,s){const c=i(e),f=Math.ceil(n*c/8),l=new Uint8Array((f+1+e.interlace)*s);return t=e.tabs.CgBI?o(t,l):r(t,l),0==e.interlace?t=a(t,e,0,n,s):1==e.interlace&&(t=function(e,t){const n=t.width,r=t.height,o=i(t),s=o>>3,c=Math.ceil(n*o/8),f=new Uint8Array(r*c);let l=0;const u=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let m=0;for(;m<7;){const i=h[m],A=p[m];let v=0,w=0,b=u[m];for(;b<r;)b+=i,w++;let y=d[m];for(;y<n;)y+=A,v++;const E=Math.ceil(v*o/8);a(e,t,l,v,w);let B=0,F=u[m];for(;F<r;){let t=d[m],r=l+B*E<<3;for(;t<n;){var g;if(1==o&&(g=(g=e[r>>3])>>7-(7&r)&1,f[F*c+(t>>3)]|=g<<7-(7&t)),2==o&&(g=(g=e[r>>3])>>6-(7&r)&3,f[F*c+(t>>2)]|=g<<6-((3&t)<<1)),4==o&&(g=(g=e[r>>3])>>4-(7&r)&15,f[F*c+(t>>1)]|=g<<4-((1&t)<<2)),o>=8){const n=F*c+t*s;for(let t=0;t<s;t++)f[n+t]=e[(r>>3)+t]}r+=o,t+=A}B++,F+=i}v*w!=0&&(l+=w*(1+E)),m+=1}return f}(t,e)),t}function r(e,t){return o(new Uint8Array(e.buffer,2,e.length-6),t)}var o=function(){const e={H:{}};return e.H.N=function(t,n){const r=Uint8Array;let o,i,a=0,s=0,c=0,f=0,l=0,u=0,d=0,h=0,p=0;if(3==t[0]&&0==t[1])return n||new r(0);const m=e.H,g=m.b,A=m.e,v=m.R,w=m.n,b=m.A,y=m.Z,E=m.m,B=null==n;for(B&&(n=new r(t.length>>>2<<5));0==a;)if(a=g(t,p,1),s=g(t,p+1,2),p+=3,0!=s){if(B&&(n=e.H.W(n,h+(1<<17))),1==s&&(o=E.J,i=E.h,u=511,d=31),2==s){c=A(t,p,5)+257,f=A(t,p+5,5)+1,l=A(t,p+10,4)+4,p+=14;let e=1;for(var F=0;F<38;F+=2)E.Q[F]=0,E.Q[F+1]=0;for(F=0;F<l;F++){const n=A(t,p+3*F,3);E.Q[1+(E.X[F]<<1)]=n,n>e&&(e=n)}p+=3*l,w(E.Q,e),b(E.Q,e,E.u),o=E.w,i=E.d,p=v(E.u,(1<<e)-1,c+f,t,p,E.v);const n=m.V(E.v,0,c,E.C);u=(1<<n)-1;const r=m.V(E.v,c,f,E.D);d=(1<<r)-1,w(E.C,n),b(E.C,n,o),w(E.D,r),b(E.D,r,i)}for(;;){const e=o[y(t,p)&u];p+=15&e;const r=e>>>4;if(r>>>8==0)n[h++]=r;else{if(256==r)break;{let e=h+r-254;if(r>264){const n=E.q[r-257];e=h+(n>>>3)+A(t,p,7&n),p+=7&n}const o=i[y(t,p)&d];p+=15&o;const a=o>>>4,s=E.c[a],c=(s>>>4)+g(t,p,15&s);for(p+=15&s;h<e;)n[h]=n[h++-c],n[h]=n[h++-c],n[h]=n[h++-c],n[h]=n[h++-c];h=e}}}}else{7&p&&(p+=8-(7&p));const o=4+(p>>>3),i=t[o-4]|t[o-3]<<8;B&&(n=e.H.W(n,h+i)),n.set(new r(t.buffer,t.byteOffset+o,i),h),p=o+i<<3,h+=i}return n.length==h?n:n.slice(0,h)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,o,i,a){const s=e.H.e,c=e.H.Z;let f=0;for(;f<r;){const e=t[c(o,i)&n];i+=15&e;const r=e>>>4;if(r<=15)a[f]=r,f++;else{let e=0,t=0;16==r?(t=3+s(o,i,2),i+=2,e=a[f-1]):17==r?(t=3+s(o,i,3),i+=3):18==r&&(t=11+s(o,i,7),i+=7);const n=f+t;for(;f<n;)a[f]=e,f++}}return i},e.H.V=function(e,t,n,r){let o=0,i=0;const a=r.length>>>1;for(;i<n;){const n=e[i+t];r[i<<1]=0,r[1+(i<<1)]=n,n>o&&(o=n),i++}for(;i<a;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o},e.H.n=function(t,n){const r=e.H.m,o=t.length;let i,a,s,c;const f=r.j;for(var l=0;l<=n;l++)f[l]=0;for(l=1;l<o;l+=2)f[t[l]]++;const u=r.K;for(i=0,f[0]=0,a=1;a<=n;a++)i=i+f[a-1]<<1,u[a]=i;for(s=0;s<o;s+=2)c=t[s+1],0!=c&&(t[s]=u[c],u[c]++)},e.H.A=function(t,n,r){const o=t.length,i=e.H.m.r;for(let e=0;e<o;e+=2)if(0!=t[e+1]){const o=e>>1,a=t[e+1],s=o<<4|a,c=n-a;let f=t[e]<<c;const l=f+(1<<c);for(;f!=l;)r[i[f]>>>15-n]=s,f++}},e.H.l=function(t,n){const r=e.H.m.r,o=15-n;for(let e=0;e<t.length;e+=2){const i=t[e]<<n-t[e+1];t[e]=r[i]>>>o}},e.H.M=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),r(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),e.H.N}();function i(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,t,n,r,o){let a=i(t);const c=Math.ceil(r*a/8);let f,l;a=Math.ceil(a/8);let u=e[n],d=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(d=a;d<c;d++)e[d+1]=e[d+1]+(e[d+1-a]>>>1)&255;for(let t=0;t<o;t++)if(f=n+t*c,l=f+t+1,u=e[l-1],d=0,0==u)for(;d<c;d++)e[f+d]=e[l+d];else if(1==u){for(;d<a;d++)e[f+d]=e[l+d];for(;d<c;d++)e[f+d]=e[l+d]+e[f+d-a]}else if(2==u)for(;d<c;d++)e[f+d]=e[l+d]+e[f+d-c];else if(3==u){for(;d<a;d++)e[f+d]=e[l+d]+(e[f+d-c]>>>1);for(;d<c;d++)e[f+d]=e[l+d]+(e[f+d-c]+e[f+d-a]>>>1)}else{for(;d<a;d++)e[f+d]=e[l+d]+s(0,e[f+d-c],0);for(;d<c;d++)e[f+d]=e[l+d]+s(e[f+d-a],e[f+d-c],e[f+d-a-c])}return e}function s(e,t,n){const r=e+t-n,o=r-e,i=r-t,a=r-n;return o*o<=i*i&&o*o<=a*a?e:i*i<=a*a?t:n}function c(t,n,r){r.width=e.readUint(t,n),n+=4,r.height=e.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++}function f(e,t,n,r,o,i,a,s,c){const f=Math.min(t,o),l=Math.min(n,i);let u=0,d=0;for(let n=0;n<l;n++)for(let i=0;i<f;i++)if(a>=0&&s>=0?(u=n*t+i<<2,d=(s+n)*o+a+i<<2):(u=(-s+n)*t-a+i<<2,d=n*o+i<<2),0==c)r[d]=e[u],r[d+1]=e[u+1],r[d+2]=e[u+2],r[d+3]=e[u+3];else if(1==c){var h=e[u+3]*(1/255),p=e[u]*h,m=e[u+1]*h,g=e[u+2]*h,A=r[d+3]*(1/255),v=r[d]*A,w=r[d+1]*A,b=r[d+2]*A;const t=1-h,n=h+A*t,o=0==n?0:1/n;r[d+3]=255*n,r[d+0]=(p+v*t)*o,r[d+1]=(m+w*t)*o,r[d+2]=(g+b*t)*o}else if(2==c)h=e[u+3],p=e[u],m=e[u+1],g=e[u+2],A=r[d+3],v=r[d],w=r[d+1],b=r[d+2],h==A&&p==v&&m==w&&g==b?(r[d]=0,r[d+1]=0,r[d+2]=0,r[d+3]=0):(r[d]=p,r[d+1]=m,r[d+2]=g,r[d+3]=h);else if(3==c){if(h=e[u+3],p=e[u],m=e[u+1],g=e[u+2],A=r[d+3],v=r[d],w=r[d+1],b=r[d+2],h==A&&p==v&&m==w&&g==b)continue;if(h<220&&A>20)return!1}return!0}return{decode:function(t){const i=new Uint8Array(t);let a=8;const s=e,f=s.readUshort,l=s.readUint,u={tabs:{},frames:[]},d=new Uint8Array(i.length);let h,p=0,m=0;const g=[137,80,78,71,13,10,26,10];for(var A=0;A<8;A++)if(i[A]!=g[A])throw"The input is not a PNG file!";for(;a<i.length;){const e=s.readUint(i,a);a+=4;const t=s.readASCII(i,a,4);if(a+=4,"IHDR"==t)c(i,a,u);else if("iCCP"==t){for(var v=a;0!=i[v];)v++;s.readASCII(i,a,v-a),i[v+1];const n=i.slice(v+2,a+e);let c=null;try{c=r(n)}catch(e){c=o(n)}u.tabs[t]=c}else if("CgBI"==t)u.tabs[t]=i.slice(a,a+4);else if("IDAT"==t){for(A=0;A<e;A++)d[p+A]=i[a+A];p+=e}else if("acTL"==t)u.tabs[t]={num_frames:l(i,a),num_plays:l(i,a+4)},h=new Uint8Array(i.length);else if("fcTL"==t){0!=m&&((F=u.frames[u.frames.length-1]).data=n(u,h.slice(0,m),F.rect.width,F.rect.height),m=0);const e={x:l(i,a+12),y:l(i,a+16),width:l(i,a+4),height:l(i,a+8)};let t=f(i,a+22);t=f(i,a+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:i[a+24],blend:i[a+25]};u.frames.push(r)}else if("fdAT"==t){for(A=0;A<e-4;A++)h[m+A]=i[a+A+4];m+=e-4}else if("pHYs"==t)u.tabs[t]=[s.readUint(i,a),s.readUint(i,a+4),i[a+8]];else if("cHRM"==t)for(u.tabs[t]=[],A=0;A<8;A++)u.tabs[t].push(s.readUint(i,a+4*A));else if("tEXt"==t||"zTXt"==t){null==u.tabs[t]&&(u.tabs[t]={});var w=s.nextZero(i,a),b=s.readASCII(i,a,w-a),y=a+e-w-1;if("tEXt"==t)B=s.readASCII(i,w+1,y);else{var E=r(i.slice(w+2,w+2+y));B=s.readUTF8(E,0,E.length)}u.tabs[t][b]=B}else if("iTXt"==t){null==u.tabs[t]&&(u.tabs[t]={}),w=0,v=a,w=s.nextZero(i,v),b=s.readASCII(i,v,w-v);const n=i[v=w+1];var B;i[v+1],v+=2,w=s.nextZero(i,v),s.readASCII(i,v,w-v),v=w+1,w=s.nextZero(i,v),s.readUTF8(i,v,w-v),y=e-((v=w+1)-a),0==n?B=s.readUTF8(i,v,y):(E=r(i.slice(v,v+y)),B=s.readUTF8(E,0,E.length)),u.tabs[t][b]=B}else if("PLTE"==t)u.tabs[t]=s.readBytes(i,a,e);else if("hIST"==t){const e=u.tabs.PLTE.length/3;for(u.tabs[t]=[],A=0;A<e;A++)u.tabs[t].push(f(i,a+2*A))}else if("tRNS"==t)3==u.ctype?u.tabs[t]=s.readBytes(i,a,e):0==u.ctype?u.tabs[t]=f(i,a):2==u.ctype&&(u.tabs[t]=[f(i,a),f(i,a+2),f(i,a+4)]);else if("gAMA"==t)u.tabs[t]=s.readUint(i,a)/1e5;else if("sRGB"==t)u.tabs[t]=i[a];else if("bKGD"==t)0==u.ctype||4==u.ctype?u.tabs[t]=[f(i,a)]:2==u.ctype||6==u.ctype?u.tabs[t]=[f(i,a),f(i,a+2),f(i,a+4)]:3==u.ctype&&(u.tabs[t]=i[a]);else if("IEND"==t)break;a+=e,s.readUint(i,a),a+=4}var F;return 0!=m&&((F=u.frames[u.frames.length-1]).data=n(u,h.slice(0,m),F.rect.width,F.rect.height)),u.data=n(u,d,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){const n=e.width,r=e.height;if(null==e.tabs.acTL)return[t(e.data,n,r,e).buffer];const o=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const i=n*r*4,a=new Uint8Array(i),s=new Uint8Array(i),c=new Uint8Array(i);for(let u=0;u<e.frames.length;u++){const d=e.frames[u],h=d.rect.x,p=d.rect.y,m=d.rect.width,g=d.rect.height,A=t(d.data,m,g,e);if(0!=u)for(var l=0;l<i;l++)c[l]=a[l];if(0==d.blend?f(A,m,g,a,n,r,h,p,0):1==d.blend&&f(A,m,g,a,n,r,h,p,1),o.push(a.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)f(s,m,g,a,n,r,h,p,0);else if(2==d.dispose)for(l=0;l<i;l++)a[l]=c[l]}return o},_paeth:s,_copyTile:f,_bin:e}}();!function(){const{_copyTile:e}=c,{_bin:t}=c,n=c._paeth;var r={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,o){for(let i=0;i<o;i++)e=r.table[255&(e^t[n+i])]^e>>>8;return e},crc:(e,t,n)=>4294967295^r.update(4294967295,e,t,n)};function o(e,t,n,r){t[n]+=e[0]*r>>4,t[n+1]+=e[1]*r>>4,t[n+2]+=e[2]*r>>4,t[n+3]+=e[3]*r>>4}function i(e){return Math.max(0,Math.min(255,e))}function a(e,t){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function f(e,t,n,r,s,c,f){null==f&&(f=1);const l=r.length,u=[];for(var d=0;d<l;d++){const e=r[d];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(d=0;d<l;d++){let e=4294967295;for(var h=0,p=0;p<l;p++){var m=a(u[d],u[p]);p!=d&&m<e&&(e=m,h=p)}}const g=new Uint32Array(s.buffer),A=new Int16Array(t*n*4),v=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<v.length;d++)v[d]=255*((v[d]+.5)/16-.5);for(let s=0;s<n;s++)for(let b=0;b<t;b++){var w;d=4*(s*t+b),2!=f?w=[i(e[d]+A[d]),i(e[d+1]+A[d+1]),i(e[d+2]+A[d+2]),i(e[d+3]+A[d+3])]:(m=v[4*(3&s)+(3&b)],w=[i(e[d]+m),i(e[d+1]+m),i(e[d+2]+m),i(e[d+3]+m)]),h=0;let y=16777215;for(p=0;p<l;p++){const e=a(w,u[p]);e<y&&(y=e,h=p)}const E=u[h],B=[w[0]-E[0],w[1]-E[1],w[2]-E[2],w[3]-E[3]];1==f&&(b!=t-1&&o(B,A,d+4,7),s!=n-1&&(0!=b&&o(B,A,d+4*t-4,3),o(B,A,d+4*t,5),b!=t-1&&o(B,A,d+4*t+4,1))),c[d>>2]=h,g[d>>2]=r[h]}}function l(e,n,o,i,a){null==a&&(a={});const{crc:s}=r,c=t.writeUint,f=t.writeUshort,l=t.writeASCII;let u=8;const d=e.frames.length>1;let h,p=!1,m=33+(d?20:0);if(null!=a.sRGB&&(m+=13),null!=a.pHYs&&(m+=21),null!=a.iCCP&&(h=pako.deflate(a.iCCP),m+=21+h.length+4),3==e.ctype){for(var g=e.plte.length,A=0;A<g;A++)e.plte[A]>>>24!=255&&(p=!0);m+=8+3*g+4+(p?8+1*g+4:0)}for(var v=0;v<e.frames.length;v++)d&&(m+=38),m+=(E=e.frames[v]).cimg.length+12,0!=v&&(m+=4);m+=12;const w=new Uint8Array(m),b=[137,80,78,71,13,10,26,10];for(A=0;A<8;A++)w[A]=b[A];if(c(w,u,13),u+=4,l(w,u,"IHDR"),u+=4,c(w,u,n),u+=4,c(w,u,o),u+=4,w[u]=e.depth,u++,w[u]=e.ctype,u++,w[u]=0,u++,w[u]=0,u++,w[u]=0,u++,c(w,u,s(w,u-17,17)),u+=4,null!=a.sRGB&&(c(w,u,1),u+=4,l(w,u,"sRGB"),u+=4,w[u]=a.sRGB,u++,c(w,u,s(w,u-5,5)),u+=4),null!=a.iCCP){const e=13+h.length;c(w,u,e),u+=4,l(w,u,"iCCP"),u+=4,l(w,u,"ICC profile"),u+=11,u+=2,w.set(h,u),u+=h.length,c(w,u,s(w,u-(e+4),e+4)),u+=4}if(null!=a.pHYs&&(c(w,u,9),u+=4,l(w,u,"pHYs"),u+=4,c(w,u,a.pHYs[0]),u+=4,c(w,u,a.pHYs[1]),u+=4,w[u]=a.pHYs[2],u++,c(w,u,s(w,u-13,13)),u+=4),d&&(c(w,u,8),u+=4,l(w,u,"acTL"),u+=4,c(w,u,e.frames.length),u+=4,c(w,u,null!=a.loop?a.loop:0),u+=4,c(w,u,s(w,u-12,12)),u+=4),3==e.ctype){for(c(w,u,3*(g=e.plte.length)),u+=4,l(w,u,"PLTE"),u+=4,A=0;A<g;A++){const t=3*A,n=e.plte[A],r=255&n,o=n>>>8&255,i=n>>>16&255;w[u+t+0]=r,w[u+t+1]=o,w[u+t+2]=i}if(u+=3*g,c(w,u,s(w,u-3*g-4,3*g+4)),u+=4,p){for(c(w,u,g),u+=4,l(w,u,"tRNS"),u+=4,A=0;A<g;A++)w[u+A]=e.plte[A]>>>24&255;u+=g,c(w,u,s(w,u-g-4,g+4)),u+=4}}let y=0;for(v=0;v<e.frames.length;v++){var E=e.frames[v];d&&(c(w,u,26),u+=4,l(w,u,"fcTL"),u+=4,c(w,u,y++),u+=4,c(w,u,E.rect.width),u+=4,c(w,u,E.rect.height),u+=4,c(w,u,E.rect.x),u+=4,c(w,u,E.rect.y),u+=4,f(w,u,i[v]),u+=2,f(w,u,1e3),u+=2,w[u]=E.dispose,u++,w[u]=E.blend,u++,c(w,u,s(w,u-30,30)),u+=4);const t=E.cimg;c(w,u,(g=t.length)+(0==v?0:4)),u+=4;const n=u;l(w,u,0==v?"IDAT":"fdAT"),u+=4,0!=v&&(c(w,u,y++),u+=4),w.set(t,u),u+=g,c(w,u,s(w,n,u-n)),u+=4}return c(w,u,0),u+=4,l(w,u,"IEND"),u+=4,c(w,u,s(w,u-4,4)),u+=4,w.buffer}function u(e,t,n){for(let r=0;r<e.frames.length;r++){const o=e.frames[r];o.rect.width;const i=o.rect.height,a=new Uint8Array(i*o.bpl+i);o.cimg=m(o.img,i,o.bpp,o.bpl,a,t,n)}}function d(t,n,r,o,i){const a=i[0],s=i[1],c=i[2],l=i[3],u=i[4],d=i[5];let m=6,g=8,v=255;for(var w=0;w<t.length;w++){const e=new Uint8Array(t[w]);for(var b=e.length,y=0;y<b;y+=4)v&=e[y+3]}const E=255!=v,B=function(t,n,r,o,i,a){const s=[];for(var c=0;c<t.length;c++){const u=new Uint8Array(t[c]),h=new Uint32Array(u.buffer);var f;let m=0,g=0,A=n,v=r,w=o?1:0;if(0!=c){const b=a||o||1==c||0!=s[c-2].dispose?1:2;let y=0,E=1e9;for(let e=0;e<b;e++){var l=new Uint8Array(t[c-1-e]);const o=new Uint32Array(t[c-1-e]);let a=n,s=r,f=-1,u=-1;for(let e=0;e<r;e++)for(let t=0;t<n;t++)h[d=e*n+t]!=o[d]&&(t<a&&(a=t),t>f&&(f=t),e<s&&(s=e),e>u&&(u=e));-1==f&&(a=s=f=u=0),i&&(!(1&~a)&&a--,!(1&~s)&&s--);const p=(f-a+1)*(u-s+1);p<E&&(E=p,y=e,m=a,g=s,A=f-a+1,v=u-s+1)}l=new Uint8Array(t[c-1-y]),1==y&&(s[c-1].dispose=2),f=new Uint8Array(A*v*4),e(l,n,r,f,A,v,-m,-g,0),w=e(u,n,r,f,A,v,-m,-g,3)?1:0,1==w?p(u,n,r,f,{x:m,y:g,width:A,height:v}):e(u,n,r,f,A,v,-m,-g,0)}else f=u.slice(0);s.push({rect:{x:m,y:g,width:A,height:v},img:f,blend:w,dispose:0})}if(o)for(c=0;c<s.length;c++){if(1==(m=s[c]).blend)continue;const e=m.rect,o=s[c-1].rect,a=Math.min(e.x,o.x),f=Math.min(e.y,o.y),l={x:a,y:f,width:Math.max(e.x+e.width,o.x+o.width)-a,height:Math.max(e.y+e.height,o.y+o.height)-f};s[c-1].dispose=1,c-1!=0&&h(t,n,r,s,c-1,l,i),h(t,n,r,s,c,l,i)}let u=0;if(1!=t.length)for(var d=0;d<s.length;d++){var m;u+=(m=s[d]).rect.width*m.rect.height}return s}(t,n,r,a,s,c),F={},_=[],U=[];if(0!=o){const e=[];for(y=0;y<B.length;y++)e.push(B[y].img.buffer);const t=function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);let o=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),i=t.length;for(let e=0;e<i;e+=4){let n=t[e],i=t[e+1],a=t[e+2];const s=t[e+3];0==s&&(n=i=a=0),r[o+e]=n,r[o+e+1]=i,r[o+e+2]=a,r[o+e+3]=s}o+=i}return r.buffer}(e),n=A(t,o);for(y=0;y<n.plte.length;y++)_.push(n.plte[y].est.rgba);let r=0;for(y=0;y<B.length;y++){const e=(C=B[y]).img.length;var I=new Uint8Array(n.inds.buffer,r>>2,e>>2);U.push(I);const t=new Uint8Array(n.abuf,r,e);d&&f(C.img,C.rect.width,C.rect.height,_,t,I),C.img.set(t),r+=e}}else for(w=0;w<B.length;w++){var C=B[w];const e=new Uint32Array(C.img.buffer);var M=C.rect.width;for(b=e.length,I=new Uint8Array(b),U.push(I),y=0;y<b;y++){const t=e[y];if(0!=y&&t==e[y-1])I[y]=I[y-1];else if(y>M&&t==e[y-M])I[y]=I[y-M];else{let e=F[t];if(null==e&&(F[t]=e=_.length,_.push(t),_.length>=300))break;I[y]=e}}}const Q=_.length;for(Q<=256&&0==u&&(g=Q<=2?1:Q<=4?2:Q<=16?4:8,g=Math.max(g,l)),w=0;w<B.length;w++){(C=B[w]).rect.x,C.rect.y,M=C.rect.width;const e=C.rect.height;let t=C.img;new Uint32Array(t.buffer);let n=4*M,r=4;if(Q<=256&&0==u){n=Math.ceil(g*M/8);var x=new Uint8Array(n*e);const o=U[w];for(let t=0;t<e;t++){y=t*n;const e=t*M;if(8==g)for(var S=0;S<M;S++)x[y+S]=o[e+S];else if(4==g)for(S=0;S<M;S++)x[y+(S>>1)]|=o[e+S]<<4-4*(1&S);else if(2==g)for(S=0;S<M;S++)x[y+(S>>2)]|=o[e+S]<<6-2*(3&S);else if(1==g)for(S=0;S<M;S++)x[y+(S>>3)]|=o[e+S]<<7-1*(7&S)}t=x,m=3,r=1}else if(0==E&&1==B.length){x=new Uint8Array(M*e*3);const o=M*e;for(y=0;y<o;y++){const e=3*y,n=4*y;x[e]=t[n],x[e+1]=t[n+1],x[e+2]=t[n+2]}t=x,m=2,r=3,n=3*M}C.img=t,C.bpl=n,C.bpp=r}return{ctype:m,depth:g,plte:_,frames:B}}function h(t,n,r,o,i,a,s){const c=Uint8Array,f=Uint32Array,l=new c(t[i-1]),u=new f(t[i-1]),d=i+1<t.length?new c(t[i+1]):null,h=new c(t[i]),m=new f(h.buffer);let g=n,A=r,v=-1,w=-1;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++){const r=a.x+t,s=a.y+e,c=s*n+r,f=m[c];0==f||0==o[i-1].dispose&&u[c]==f&&(null==d||0!=d[4*c+3])||(r<g&&(g=r),r>v&&(v=r),s<A&&(A=s),s>w&&(w=s))}-1==v&&(g=A=v=w=0),s&&(!(1&~g)&&g--,!(1&~A)&&A--),a={x:g,y:A,width:v-g+1,height:w-A+1};const b=o[i];b.rect=a,b.blend=1,b.img=new Uint8Array(a.width*a.height*4),0==o[i-1].dispose?(e(l,n,r,b.img,a.width,a.height,-a.x,-a.y,0),p(h,n,r,b.img,a)):e(h,n,r,b.img,a.width,a.height,-a.x,-a.y,0)}function p(t,n,r,o,i){e(t,n,r,o,i.width,i.height,-i.x,-i.y,2)}function m(e,t,n,r,o,i,a){const c=[];let f,l=[0,1,2,3,4];-1!=i?l=[i]:(t*r>5e5||1==n)&&(l=[0]),a&&(f={level:0});const u=s;for(var d=0;d<l.length;d++){for(let i=0;i<t;i++)g(o,e,i,r,n,l[d]);c.push(u.deflate(o,f))}let h,p=1e9;for(d=0;d<c.length;d++)c[d].length<p&&(h=d,p=c[d].length);return c[h]}function g(e,t,r,o,i,a){const s=r*o;let c=s+r;if(e[c]=a,c++,0==a)if(o<500)for(var f=0;f<o;f++)e[c+f]=t[s+f];else e.set(new Uint8Array(t.buffer,s,o),c);else if(1==a){for(f=0;f<i;f++)e[c+f]=t[s+f];for(f=i;f<o;f++)e[c+f]=t[s+f]-t[s+f-i]+256&255}else if(0==r){for(f=0;f<i;f++)e[c+f]=t[s+f];if(2==a)for(f=i;f<o;f++)e[c+f]=t[s+f];if(3==a)for(f=i;f<o;f++)e[c+f]=t[s+f]-(t[s+f-i]>>1)+256&255;if(4==a)for(f=i;f<o;f++)e[c+f]=t[s+f]-n(t[s+f-i],0,0)+256&255}else{if(2==a)for(f=0;f<o;f++)e[c+f]=t[s+f]+256-t[s+f-o]&255;if(3==a){for(f=0;f<i;f++)e[c+f]=t[s+f]+256-(t[s+f-o]>>1)&255;for(f=i;f<o;f++)e[c+f]=t[s+f]+256-(t[s+f-o]+t[s+f-i]>>1)&255}if(4==a){for(f=0;f<i;f++)e[c+f]=t[s+f]+256-n(0,t[s+f-o],0)&255;for(f=i;f<o;f++)e[c+f]=t[s+f]+256-n(t[s+f-i],t[s+f-o],t[s+f-i-o])&255}}}function A(e,t){const n=new Uint8Array(e),r=n.slice(0),o=new Uint32Array(r.buffer),i=v(r,t),a=i[0],s=i[1],c=n.length,f=new Uint8Array(c>>2);let l;if(n.length<2e7)for(var u=0;u<c;u+=4)l=w(a,d=n[u]*(1/255),h=n[u+1]*(1/255),p=n[u+2]*(1/255),m=n[u+3]*(1/255)),f[u>>2]=l.ind,o[u>>2]=l.est.rgba;else for(u=0;u<c;u+=4){var d=n[u]*(1/255),h=n[u+1]*(1/255),p=n[u+2]*(1/255),m=n[u+3]*(1/255);for(l=a;l.left;)l=b(l.est,d,h,p,m)<=0?l.left:l.right;f[u>>2]=l.ind,o[u>>2]=l.est.rgba}return{abuf:r.buffer,inds:f,plte:s}}function v(e,t,n){null==n&&(n=1e-4);const r=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=B(e,o.i0,o.i1),o.est=F(o.bst);const i=[o];for(;i.length<t;){let t=0,o=0;for(var a=0;a<i.length;a++)i[a].est.L>t&&(t=i[a].est.L,o=a);if(t<n)break;const s=i[o],c=y(e,r,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=c||s.i1<=c){s.est.L=0;continue}const f={i0:s.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};f.bst=B(e,f.i0,f.i1),f.est=F(f.bst);const l={i0:c,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(l.bst={R:[],m:[],N:s.bst.N-f.bst.N},a=0;a<16;a++)l.bst.R[a]=s.bst.R[a]-f.bst.R[a];for(a=0;a<4;a++)l.bst.m[a]=s.bst.m[a]-f.bst.m[a];l.est=F(l.bst),s.left=f,s.right=l,i[o]=f,i.push(l)}for(i.sort(((e,t)=>t.bst.N-e.bst.N)),a=0;a<i.length;a++)i[a].ind=a;return[o,i]}function w(e,t,n,r,o){if(null==e.left)return e.tdst=function(e,t,n,r,o){const i=t-e[0],a=n-e[1],s=r-e[2],c=o-e[3];return i*i+a*a+s*s+c*c}(e.est.q,t,n,r,o),e;const i=b(e.est,t,n,r,o);let a=e.left,s=e.right;i>0&&(a=e.right,s=e.left);const c=w(a,t,n,r,o);if(c.tdst<=i*i)return c;const f=w(s,t,n,r,o);return f.tdst<c.tdst?f:c}function b(e,t,n,r,o){const{e:i}=e;return i[0]*t+i[1]*n+i[2]*r+i[3]*o-e.eMq}function y(e,t,n,r,o,i){for(r-=4;n<r;){for(;E(e,n,o)<=i;)n+=4;for(;E(e,r,o)>i;)r-=4;if(n>=r)break;const a=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=a,n+=4,r-=4}for(;E(e,n,o)>i;)n-=4;return n+4}function E(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function B(e,t,n){const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0],i=n-t>>2;for(let i=t;i<n;i+=4){const t=e[i]*(1/255),n=e[i+1]*(1/255),a=e[i+2]*(1/255),s=e[i+3]*(1/255);o[0]+=t,o[1]+=n,o[2]+=a,o[3]+=s,r[0]+=t*t,r[1]+=t*n,r[2]+=t*a,r[3]+=t*s,r[5]+=n*n,r[6]+=n*a,r[7]+=n*s,r[10]+=a*a,r[11]+=a*s,r[15]+=s*s}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:o,N:i}}function F(e){const{R:t}=e,{m:n}=e,{N:r}=e,o=n[0],i=n[1],a=n[2],s=n[3],c=0==r?0:1/r,f=[t[0]-o*o*c,t[1]-o*i*c,t[2]-o*a*c,t[3]-o*s*c,t[4]-i*o*c,t[5]-i*i*c,t[6]-i*a*c,t[7]-i*s*c,t[8]-a*o*c,t[9]-a*i*c,t[10]-a*a*c,t[11]-a*s*c,t[12]-s*o*c,t[13]-s*i*c,t[14]-s*a*c,t[15]-s*s*c],l=f,u=_;let d=[Math.random(),Math.random(),Math.random(),Math.random()],h=0,p=0;if(0!=r)for(let e=0;e<16&&(d=u.multVec(l,d),p=Math.sqrt(u.dot(d,d)),d=u.sml(1/p,d),!(0!=e&&Math.abs(p-h)<1e-9));e++)h=p;const m=[o*c,i*c,a*c,s*c];return{Cov:f,q:m,e:d,L:h,eMq255:u.dot(u.sml(255,m),d),eMq:u.dot(d,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}}var _={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};c.encode=function(e,t,n,r,o,i,a){null==r&&(r=0),null==a&&(a=!1);const s=d(e,t,n,r,[!1,!1,!1,0,a,!1]);return u(s,-1),l(s,t,n,o,i)},c.encodeLL=function(e,t,n,r,o,i,a,s){const c={ctype:0+(1==r?0:2)+(0==o?0:4),depth:i,frames:[]},f=(r+o)*i,d=f*t;for(let r=0;r<e.length;r++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[r]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(d/8)});return u(c,0,!0),l(c,t,n,a,s)},c.encode.compress=d,c.encode.dither=f,c.quantize=A,c.quantize.getKDtree=v,c.quantize.getNearest=w}();const f={toArrayBuffer(e,t){const n=e.width,r=e.height,o=n<<2,i=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(i.data.buffer),s=(32*n+31)/32<<2,c=s*r,l=122+c,u=new ArrayBuffer(l),d=new DataView(u),h=1<<20;let p,m,g,A,v=h,w=0,b=0,y=0;function E(e){d.setUint16(b,e,!0),b+=2}function B(e){d.setUint32(b,e,!0),b+=4}function F(e){b+=e}E(19778),B(l),F(4),B(122),B(108),B(n),B(-r>>>0),E(1),E(32),B(3),B(c),B(2835),B(2835),F(8),B(16711680),B(65280),B(255),B(4278190080),B(1466527264),function e(){for(;w<r&&v>0;){for(A=122+w*s,p=0;p<o;)v--,m=a[y++],g=m>>>24,d.setUint32(A+p,m<<8|g),p+=4;w++}y<a.length?(v=h,setTimeout(e,f._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var l={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},u={[l.CHROME]:16384,[l.FIREFOX]:11180,[l.DESKTOP_SAFARI]:16384,[l.IE]:8192,[l.IOS]:4096,[l.ETC]:8192};const d="undefined"!=typeof window,h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,p=d&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),m=(d||h)&&(p&&p.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),g=(d||h)&&(p&&p.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function A(e,t,n=Date.now()){return new Promise((r=>{const o=e.split(","),i=o[0].match(/:(.*?);/)[1],a=globalThis.atob(o[1]);let s=a.length;const c=new Uint8Array(s);for(;s--;)c[s]=a.charCodeAt(s);const f=new Blob([c],{type:i});f.name=t,f.lastModified=n,r(f)}))}function v(e){return new Promise(((t,n)=>{const r=new g;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}))}function w(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e}))}function b(){if(void 0!==b.cachedResult)return b.cachedResult;let e=l.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=l.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=l.IOS:/Safari/i.test(t)?e=l.DESKTOP_SAFARI:/Firefox/i.test(t)?e=l.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=l.IE),b.cachedResult=e,b.cachedResult}function y(e,t){const n=b(),r=u[n];let o=e,i=t,a=o*i;const s=o>i?i/o:o/i;for(;a>r*r;){const e=(r+o)/2,t=(r+i)/2;e<t?(i=t,o=t*s):(i=e*s,o=e),a=o*i}return{width:o,height:i}}function E(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),null===r)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function B(e,t){const{width:n,height:r}=y(e.width,e.height),[o,i]=E(n,r);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height)),i.drawImage(e,0,0,o.width,o.height),o}function F(){return void 0!==F.cachedResult||(F.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),F.cachedResult}function _(e,t={}){return new Promise((function(n,r){let o,i;var a=function(){try{return i=B(o,t.fileType||e.type),n([o,i])}catch(e){return r(e)}},s=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{let t;return v(e).then((function(e){try{return t=e,w(t).then((function(e){try{return o=e,function(){try{return a()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(F()||[l.DESKTOP_SAFARI,l.MOBILE_SAFARI].includes(b()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return o=e,a()}catch(e){return s()}}),s)}catch(e){s()}}))}function U(e,t,n,r,o=1){return new Promise((function(i,a){let s;if("image/png"===t){let u,d,h;return u=e.getContext("2d"),({data:d}=u.getImageData(0,0,e.width,e.height)),h=c.encode([d.buffer],e.width,e.height,4096*o),s=new Blob([h],{type:t}),s.name=n,s.lastModified=r,l.call(this)}{if("image/bmp"===t)return new Promise((t=>f.toBlob(e,t))).then(function(e){try{return s=e,s.name=n,s.lastModified=r,p.call(this)}catch(e){return a(e)}}.bind(this),a);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then(function(e){try{return s=e,s.name=n,s.lastModified=r,m.call(this)}catch(e){return a(e)}}.bind(this),a);{let g;return g=e.toDataURL(t,o),A(g,n,r).then(function(e){try{return s=e,m.call(this)}catch(e){return a(e)}}.bind(this),a)}function m(){return p.call(this)}}function p(){return l.call(this)}}function l(){return i(s)}}))}function I(e){e.width=0,e.height=0}function C(){return new Promise((function(e,t){let n,r,o,i,a;return void 0!==C.cachedResult?e(C.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",A("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return r=n,_(r).then((function(n){try{return o=n[1],U(o,r.type,r.name,r.lastModified).then((function(n){try{return i=n,I(o),_(i).then((function(n){try{return a=n[0],C.cachedResult=1===a.width&&2===a.height,e(C.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function M(e){return new Promise(((t,n)=>{const r=new g;r.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let o=2;for(;o<r;){if(n.getUint16(o+2,!1)<=8)return t(-1);const e=n.getUint16(o,!1);if(o+=2,65505==e){if(1165519206!=n.getUint32(o+=2,!1))return t(-1);const e=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,e);const r=n.getUint16(o,e);o+=2;for(let i=0;i<r;i++)if(274==n.getUint16(o+12*i,e))return t(n.getUint16(o+12*i+8,e))}else{if(65280&~e)break;o+=n.getUint16(o,!1)}}return t(-1)},r.onerror=e=>n(e),r.readAsArrayBuffer(e)}))}function Q(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:o}=t;let i,a=e;return isFinite(o)&&(n>o||r>o)&&([a,i]=E(n,r),n>r?(a.width=o,a.height=r/n*o):(a.width=n/r*o,a.height=o),i.drawImage(e,0,0,a.width,a.height),I(e)),a}function x(e,t){const{width:n}=e,{height:r}=e,[o,i]=E(n,r);switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,r),I(e),o}function S(e,t,n=0){return new Promise((function(r,o){let i,a,s,c,f,l,u,d,h,p,m,g,A,v,w,b,y,B,F,S;function O(e=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=e,t.onProgress(Math.min(i,100))}function R(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(e,i),100),t.onProgress(i)}return i=n,a=t.maxIteration||10,s=1024*t.maxSizeMB*1024,O(),_(e,t).then(function(n){try{return[,c]=n,O(),f=Q(c,t),O(),new Promise((function(n,r){var o;if(!(o=t.exifOrientation))return M(e).then(function(e){try{return o=e,i.call(this)}catch(e){return r(e)}}.bind(this),r);function i(){return n(o)}return i.call(this)})).then(function(n){try{return l=n,O(),C().then(function(n){try{return u=n?f:x(f,l),O(),d=t.initialQuality||1,h=t.fileType||e.type,U(u,h,e.name,e.lastModified,d).then(function(n){try{{if(p=n,O(),m=p.size>s,g=p.size>e.size,!m&&!g)return R(100),r(p);var i;function l(){if(a--&&(w>s||w>A)){let t,n;return t=S?.95*F.width:F.width,n=S?.95*F.height:F.height,[y,B]=E(t,n),B.drawImage(F,0,0,t,n),d*="image/png"===h?.85:.95,U(y,h,e.name,e.lastModified,d).then((function(e){try{return b=e,I(F),F=y,w=b.size,R(Math.min(99,Math.floor((v-w)/(v-s)*100))),l}catch(e){return o(e)}}),o)}return[1]}return A=e.size,v=p.size,w=v,F=u,S=!t.alwaysKeepResolution&&m,(i=function(e){for(;e;){if(e.then)return void e.then(i,o);try{if(e.pop){if(e.length)return e.pop()?_.call(this):e;e=l}else e=e.call(this)}catch(e){return o(e)}}}.bind(this))(l);function _(){return I(F),I(y),I(f),I(u),I(c),R(100),r(b)}}}catch(C){return o(C)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}))}const O="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let R;function P(e,t){return new Promise(((n,r)=>{R||(R=function(e){const t=[];return"function"==typeof e?t.push(`(${e})()`):t.push(e),URL.createObjectURL(new Blob(t))}(O));const o=new Worker(R);o.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return r(new Error(e.data.error)),void o.terminate();n(e.data.file),o.terminate()}else t.onProgress(e.data.progress)})),o.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function T(e,t){return new Promise((function(n,o){let i,a,s,c,f,l;if(i={...t},s=0,({onProgress:c}=i),i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,f="boolean"!=typeof i.useWebWorker||i.useWebWorker,delete i.useWebWorker,i.onProgress=e=>{s=e,"function"==typeof c&&c(s)},!(e instanceof Blob||e instanceof m))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!f||"function"!=typeof Worker||l)return S(e,i).then(function(e){try{return a=e,h.call(this)}catch(e){return o(e)}}.bind(this),o);var u=function(){try{return h.call(this)}catch(e){return o(e)}}.bind(this),d=function(t){try{return S(e,i).then((function(e){try{return a=e,u()}catch(e){return o(e)}}),o)}catch(e){return o(e)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",P(e,i).then((function(e){try{return a=e,u()}catch(e){return d()}}),d)}catch(e){d()}function h(){try{a.name=e.name,a.lastModified=e.lastModified}catch(e){}try{i.preserveExif&&"image/jpeg"===e.type&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(a=r(e,a))}catch(e){}return n(a)}}))}T.getDataUrlFromFile=v,T.getFilefromDataUrl=A,T.loadImage=w,T.drawImageInCanvas=B,T.drawFileInCanvas=_,T.canvasToFile=U,T.getExifOrientation=M,T.handleMaxWidthOrHeight=Q,T.followExifOrientation=x,T.cleanupCanvasMemory=I,T.isAutoOrientationInBrowser=C,T.approximateBelowMaximumCanvasSizeOfBrowser=y,T.copyExifWithoutOrientation=r,T.getBrowserName=b,T.version="2.0.2"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(214);var e=n(347);n(743),n(805);var t=n(227),r=n(852),o=new e.Dropdown("header-btn-dropdown");o.run();var i=(0,t.publicationRunDropdown)(),a=(0,t.newPublicationRunDropdown)();document.addEventListener("click",(function(t){var n=t.target;(0,e.closeDropdown)(o,n),(0,e.closeDropdown)(i,n),(0,e.closeDropdown)(a,n)})),(0,r.RemoveUrlParameters)(["REDIRECT_ERROR"])})()})();